<form id="formulario" onsubmit="enviarFormulario(event)">
    <label for="nombre">Nombre:</label>
    <input type="text" id="nombre" name="nombre" required><br><br>

    <label for="direccion">Dirección:</label>
    <input type="text" id="direccion" name="direccion" required><br><br>

    <label for="telefono">Teléfono:</label>
    <input type="tel" id="telefono" name="telefono" required><br><br>

    <label for="observaciones">Observaciones:</label>
    <textarea id="observaciones" name="observaciones" required></textarea><br><br>

    <label for="total">Total:</label>
    <input type="number" id="total" name="total" required><br><br>

    <button type="submit">Enviar Datos</button>
</form>

<script>
  // Función para manejar el envío de datos
  function enviarFormulario(event) {
    event.preventDefault(); // Prevenir el envío por defecto del formulario

    // Crear un objeto FormData que recoja los datos del formulario
    var formData = new FormData(document.getElementById('formulario'));

    // Convertir FormData a un objeto regular para usarlo en la solicitud
    var object = {};
    formData.forEach(function(value, key) {
      object[key] = value;
    });

    // Enviar la solicitud POST a la URL del Web App de Google Apps Script
    var url = 'https://script.google.com/macros/s/AKfycbzcD8L19imSQEmQjCfJnSbFj0oUeJpeHP1vviUpGrNJcFQdP1iuaTPbIgiEqzbzoAj0qg/exec';
    
    fetch(url, {
      method: 'POST',
      body: JSON.stringify(object), // Enviar los datos como JSON
      headers: {
        'Content-Type': 'application/json'
      }
    })
    .then(response => response.json())
    .then(data => {
      console.log('Éxito:', data);
      alert('Datos enviados con éxito');
    })
    .catch((error) => {
      console.error('Error:', error);
      alert('Hubo un error al enviar los datos');
    });
  }
</script>
